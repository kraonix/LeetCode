class Solution {
public:
    
    int countStableSubsequences(vector<int>& nums) {
        long long e1 = 0, e2 = 0, o1 = 0, o2 = 0;
        const int MOD = 1e9 + 7;

        for(int num: nums){
            if(num % 2 == 0){
                e2 = (e2 + e1) % MOD;
                e1 = (e1 + o1 + o2 + 1) % MOD;
            }else{
                o2 = (o2 + o1) % MOD;
                o1 = (o1 + e1 + e2 + 1) % MOD;
            } 
        }
        long long total = (e1 + e2 + o1 + o2) % MOD;
        return (int)total;
    }
};
